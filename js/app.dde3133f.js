(function(){"use strict";var t={631:function(t,e,a){var r=a(6369),s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("app-header"),e("main",[e("router-view")],1)],1)},i=[],n=function(){var t=this,e=t._self._c;return e("header",{staticClass:"header"},[e("div",{staticClass:"container"},[e("nav",{staticClass:"header__nav"},[e("router-link",{staticClass:"header__logo",attrs:{to:{name:"globalFeed"}}},[t._v(" Medium ")]),e("app-button",{ref:"burger",staticClass:"header__burger",attrs:{view:"ghost"},on:{click:t.toggleMenu}},[e("span")]),e("ul",{ref:"navList",staticClass:"header__nav-list"},[e("li",{staticClass:"header__nav-item",on:{click:t.hideMenu}},[e("router-link",{staticClass:"header__link",attrs:{to:{name:"globalFeed"},exact:"","active-class":"header__link--active"}},[t._v(" Home ")])],1),t.isLoggedIn?[e("li",{staticClass:"header__nav-item",on:{click:t.hideMenu}},[e("router-link",{staticClass:"header__link",attrs:{to:{name:"createArticle"},"active-class":"header__link--active"}},[e("base-icon",{staticClass:"header__icon",attrs:{icon:"compose"}}),t._v(" New Article ")],1)],1),e("li",{staticClass:"header__nav-item",on:{click:t.hideMenu}},[e("router-link",{staticClass:"header__link",attrs:{to:{name:"settings"},"active-class":"header__link--active"}},[e("base-icon",{staticClass:"header__icon",attrs:{icon:"settings"}}),t._v(" Setting ")],1)],1),e("li",{staticClass:"header__nav-item",on:{click:t.hideMenu}},[e("router-link",{staticClass:"header__link",attrs:{to:{name:"userProfile",params:{slug:t.currentUser.username}},"active-class":"header__link--active"}},[e("img",{staticClass:"header__avatar",attrs:{src:t.currentUser.image,alt:"avatar"}}),t._v(" "+t._s(t.currentUser.username)+" ")])],1)]:[e("li",{staticClass:"header__nav-item",on:{click:t.hideMenu}},[e("router-link",{staticClass:"header__link",attrs:{to:{name:"login"},"active-class":"header__link--active"}},[t._v(" Sign In ")])],1),e("li",{staticClass:"header__nav-item",on:{click:t.hideMenu}},[e("router-link",{staticClass:"header__link",attrs:{to:{name:"register"},"active-class":"header__link--active"}},[t._v(" Sign Up ")])],1)]],2)],1)])])},l=[],o=a(3822),u=function(){var t=this,e=t._self._c;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:t.width,height:t.height,viewBox:"0 0 18 18"}},[e("g",{attrs:{fill:t.iconColor}},[e(`icon-${t.icon}`,{tag:"component"})],1)])},c=[],p=function(){var t=this,e=t._self._c;return e("path",{attrs:{d:"M2 6.75923C2 10.7139 4.8136 12.8214 6.87321 14.7077C7.6 15.3733 8.3 16 9 16C9.7 16 10.4 15.3733 11.1268 14.7077C13.1864 12.8214 16 10.7139 16 6.75923C16 2.8045 12.1499 -0.000120729 9 3.80191C5.85011 -0.000120729 2 2.8045 2 6.75923Z"}})},d=[],g={name:"IconHeart"},m=g,h=a(1001),_=(0,h.Z)(m,p,d,!1,null,null,null),v=_.exports,f=function(){var t=this,e=t._self._c;return e("g",[e("path",{attrs:{d:"M16.0682 2.5682C16.2439 2.39247 16.2439 2.10754 16.0682 1.93181C15.8924 1.75607 15.6075 1.75607 15.4318 1.93181L8.23181 9.13177L8.09998 9.90001L8.86821 9.76825L16.0682 2.5682Z"}}),e("path",{attrs:{d:"M4.5 2C3.11929 2 2 3.11929 2 4.49999V13.5C2 14.8807 3.11929 16 4.5 16H13.5C14.8807 16 16 14.8807 16 13.5V7.49999C16 7.22385 15.7761 6.99999 15.5 6.99999C15.2239 6.99999 15 7.22385 15 7.49999V13.5C15 14.3284 14.3284 15 13.5 15H4.5C3.67157 15 3 14.3284 3 13.5V4.49999C3 3.67157 3.67157 3 4.5 3H10.5046C10.7807 3 11.0046 2.77614 11.0046 2.5C11.0046 2.22386 10.7807 2 10.5046 2H4.5Z"}})])},C=[],b={name:"IconCompose"},y=b,A=(0,h.Z)(y,f,C,!1,null,null,null),w=A.exports,S=function(){var t=this,e=t._self._c;return e("g",[e("g",{attrs:{"clip-path":"url(#clip0_404_99)"}},[e("path",{attrs:{d:"M15.6458 10.5043C15.2357 10.1106 15.0136 9.56271 15.0136 8.99773C15.0136 8.43276 15.2357 7.90202 15.6458 7.49113C15.7141 7.42265 15.7824 7.37129 15.8679 7.30281C15.9874 7.2172 16.0216 7.06312 15.9874 6.92616C15.8508 6.42966 15.6458 5.95029 15.4066 5.50516C15.3382 5.38532 15.2016 5.31683 15.0649 5.33395C14.9453 5.35107 14.8599 5.35107 14.7745 5.35107C13.5957 5.35107 12.6389 4.39233 12.6389 3.22814C12.6389 3.14253 12.6389 3.03981 12.656 2.93709C12.6731 2.80013 12.6048 2.66316 12.4852 2.59468C12.041 2.35499 11.5626 2.14955 11.0672 2.01258C10.9305 1.97834 10.7768 2.02971 10.6913 2.13243C10.623 2.21803 10.5547 2.30363 10.5034 2.35499C10.0934 2.74876 9.56378 2.97133 9 2.97133C8.43622 2.97133 7.88953 2.74876 7.49659 2.35499C7.42825 2.28651 7.377 2.21803 7.30866 2.13243C7.22324 2.01258 7.06948 1.97834 6.93281 2.01258C6.43737 2.16667 5.95901 2.35499 5.51482 2.59468C5.39523 2.66316 5.32689 2.80013 5.34398 2.93709C5.36106 3.05693 5.36106 3.14253 5.36106 3.22814C5.36106 4.40945 4.40435 5.35107 3.22554 5.35107C3.14012 5.35107 3.03761 5.35107 2.93511 5.33395C2.79843 5.31683 2.66176 5.38532 2.59342 5.50516C2.35424 5.95029 2.14923 6.42966 2.01256 6.92616C1.97839 7.06312 2.01256 7.2172 2.13215 7.30281C2.23465 7.37129 2.30299 7.43977 2.35424 7.49113C3.19137 8.31291 3.19137 9.66543 2.35424 10.5043C2.28591 10.5728 2.21757 10.6242 2.13215 10.6927C2.01256 10.7783 1.97839 10.9323 2.01256 11.0693C2.16632 11.5658 2.35424 12.0452 2.59342 12.4903C2.66176 12.6101 2.79843 12.6786 2.93511 12.6615C3.05469 12.6444 3.14012 12.6444 3.22554 12.6444C4.40435 12.6444 5.36106 13.6031 5.36106 14.7673C5.36106 14.8529 5.36106 14.9557 5.34398 15.0584C5.32689 15.1953 5.39523 15.3323 5.51482 15.4008C5.95901 15.6405 6.43737 15.8459 6.93281 15.9829C7.06948 16.0171 7.22324 15.9829 7.30866 15.863C7.377 15.7774 7.44534 15.6918 7.49659 15.6405C7.90661 15.2467 8.43622 15.0241 9 15.0241C9.56378 15.0241 10.1105 15.2467 10.5034 15.6405C10.5717 15.709 10.623 15.7774 10.6913 15.863C10.7597 15.9486 10.8622 16 10.9647 16C10.9989 16 11.033 16 11.0672 15.9829C11.5626 15.8288 12.041 15.6405 12.4852 15.4008C12.6048 15.3323 12.6731 15.1953 12.656 15.0584C12.6389 14.9385 12.6389 14.8529 12.6389 14.7673C12.6389 13.586 13.5957 12.6444 14.7745 12.6444C14.8599 12.6444 14.9624 12.6444 15.0649 12.6615C15.2016 12.6786 15.3382 12.6101 15.4066 12.4903C15.6458 12.0452 15.8508 11.5658 15.9874 11.0693C16.0216 10.9323 15.9874 10.7783 15.8679 10.6927C15.7824 10.6242 15.697 10.5728 15.6458 10.5043ZM14.9111 11.9596H14.7574C13.2027 11.9596 11.9385 13.2265 11.9385 14.7673V14.9214C11.6651 15.0584 11.3747 15.1782 11.0672 15.2809L10.9647 15.1782C10.4351 14.6475 9.73462 14.3564 8.98292 14.3564C8.23121 14.3564 7.53076 14.6475 7.00115 15.1782L6.89864 15.2809C6.60821 15.1782 6.31778 15.0584 6.02735 14.9214V14.7673C6.02735 13.2094 4.76312 11.9596 3.20845 11.9596H3.05469C2.91802 11.6856 2.79843 11.3946 2.69593 11.0864L2.79843 10.9837C3.89182 9.888 3.89182 8.10747 2.79843 6.99464L2.69593 6.89192C2.79843 6.60087 2.91802 6.30982 3.05469 6.01877H3.20845C4.76312 6.01877 6.02735 4.75186 6.02735 3.21102V3.05693C6.30069 2.91997 6.59113 2.80013 6.89864 2.6974L7.00115 2.80013C7.53076 3.33086 8.23121 3.62191 8.98292 3.62191C9.73462 3.62191 10.4351 3.33086 10.9647 2.80013L11.0672 2.6974C11.3576 2.80013 11.6481 2.91997 11.9385 3.05693V3.21102C11.9385 4.76898 13.2027 6.01877 14.7574 6.01877H14.9111C15.0478 6.2927 15.1674 6.58375 15.2699 6.89192L15.1674 6.99464C14.6378 7.52537 14.3474 8.22731 14.3474 8.98061C14.3474 9.73391 14.6378 10.4359 15.1674 10.9666L15.2699 11.0693C15.1674 11.3946 15.0478 11.6856 14.9111 11.9596ZM9 4.92306C6.76197 4.92306 4.93396 6.75495 4.93396 8.99773C4.93396 11.2405 6.76197 13.0724 9 13.0724C11.238 13.0724 13.066 11.2405 13.066 8.99773C13.066 6.75495 11.238 4.92306 9 4.92306ZM9 12.3876C7.13782 12.3876 5.61733 10.8639 5.61733 8.99773C5.61733 7.1316 7.13782 5.60788 9 5.60788C10.8622 5.60788 12.3827 7.1316 12.3827 8.99773C12.3827 10.8639 10.8622 12.3876 9 12.3876Z"}}),e("path",{attrs:{d:"M295.92 -142.2V160.92H-25.2V-142.2H295.92ZM297.36 -143.64H-26.64V162.36H297.36V-143.64Z"}})]),e("defs",[e("clipPath",{attrs:{id:"clip0_404_99"}},[e("rect",{attrs:{width:"18",height:"18",fill:"white"}})])])])},k=[],L={name:"IconSettings"},U=L,$=(0,h.Z)(U,S,k,!1,null,null,null),x=$.exports,F=function(){var t=this,e=t._self._c;return e("path",{attrs:{d:"M14.2744 6.52308L13.7698 15.4154C13.7535 15.7385 13.4605 16 13.1186 16H4.8814C4.53954 16 4.24651 15.7385 4.23023 15.4154L3.72558 6.52308C3.7093 6.18462 3.98605 5.89231 4.34419 5.87692C4.70233 5.86154 5.01163 6.12308 5.02791 6.46154L5.5 14.7692H12.5163L12.9884 6.46154C13.0047 6.12308 13.314 5.86154 13.6721 5.87692C14.014 5.89231 14.2907 6.18462 14.2744 6.52308ZM16 4.46154C16 4.8 15.707 5.07692 15.3488 5.07692H2.65116C2.29302 5.07692 2 4.8 2 4.46154C2 4.12308 2.29302 3.84615 2.65116 3.84615H6.23256V2.46154C6.23256 2.16923 6.44419 2 6.75349 2H11.2465C11.5558 2 11.7674 2.16923 11.7674 2.46154V3.84615H15.3488C15.707 3.84615 16 4.12308 16 4.46154ZM7.37209 3.84615H10.6279V3.07692H7.37209V3.84615ZM7.64884 13.8462C7.97442 13.8462 8.2186 13.5538 8.2186 13.2615L8.05581 6.61538C8.05581 6.32308 7.79535 6.07692 7.46977 6.07692C7.16046 6.07692 6.9 6.32308 6.91628 6.63077L7.07907 13.2923C7.07907 13.5846 7.33954 13.8462 7.64884 13.8462ZM10.3349 13.8462C10.6442 13.8462 10.9047 13.6 10.9047 13.3077L11.0674 6.66154C11.0674 6.36923 10.8233 6.10769 10.514 6.10769C10.1884 6.10769 9.94419 6.33846 9.92791 6.63077L9.76512 13.2769C9.74884 13.5846 10.0093 13.8462 10.3349 13.8462C10.3186 13.8462 10.3186 13.8462 10.3349 13.8462Z"}})},P=[],Z={name:"IconTrash"},T=Z,I=(0,h.Z)(T,F,P,!1,null,null,null),E=I.exports,q=function(){var t=this,e=t._self._c;return e("path",{attrs:{d:"M15.6697 3.60199L14.3945 2.32653C14.1849 2.11743 13.9009 2 13.6049 2C13.3088 2 13.0249 2.11743 12.8153 2.32653L11.551 3.59105L3.20639 11.9352C3.18014 11.9614 3.16046 11.9942 3.14515 12.0292C3.14296 12.0358 3.13858 12.0424 3.1364 12.0489C3.13421 12.0533 3.12983 12.0577 3.12983 12.062L2.0143 15.5909C1.97931 15.7025 2.00993 15.825 2.09086 15.9059C2.14992 15.9672 2.23085 16 2.31178 16C2.3424 16 2.37521 15.9956 2.40583 15.9847L5.93616 14.8689C5.94054 14.8667 5.94491 14.8646 5.95147 14.8624C5.95803 14.8602 5.9646 14.8558 5.97116 14.8536C6.00615 14.8383 6.03678 14.8186 6.06302 14.7924L14.4076 6.44607L15.6719 5.18155C15.8819 4.96934 16 4.68931 16 4.39177C16 4.09424 15.8819 3.81202 15.6697 3.60199ZM11.7719 4.25394L12.5353 5.01747L4.63471 12.9196L3.87133 12.1561L11.7719 4.25394ZM2.79299 15.2058L3.57167 12.7446L5.25372 14.427L2.79299 15.2058ZM5.83992 14.1273L5.07655 13.3638L12.9793 5.46159L13.7427 6.22511L5.83992 14.1273ZM15.2279 4.73963L14.1867 5.781L12.2181 3.81202L13.2593 2.77065C13.4496 2.58031 13.7602 2.57812 13.9527 2.77065L15.2279 4.04611C15.3197 4.13799 15.3722 4.2627 15.3722 4.39177C15.3722 4.52085 15.3197 4.64555 15.2279 4.73963Z"}})},V=[],M={name:"IconPen"},O=M,H=(0,h.Z)(O,q,V,!1,null,"1bb593c6",null),B=H.exports,D=function(){var t=this,e=t._self._c;return e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.83333 14.8333C7.83333 15.4777 8.35565 16 9 16C9.64435 16 10.1667 15.4777 10.1667 14.8333V10.1667H14.8333C15.4777 10.1667 16 9.64435 16 9C16 8.35565 15.4777 7.83333 14.8333 7.83333H10.1667V3.16667C10.1667 2.52233 9.64435 2 9 2C8.35565 2 7.83333 2.52233 7.83333 3.16667V7.83333H3.16667C2.52234 7.83333 2 8.35565 2 9C2 9.64435 2.52234 10.1667 3.16667 10.1667H7.83333V14.8333Z"}})},j=[],N={name:"IconPlus"},z=N,R=(0,h.Z)(z,D,j,!1,null,"342c5ba4",null),W=R.exports,J={name:"BaseIcon",components:{IconHeart:v,IconCompose:w,IconSettings:x,IconTrash:E,IconPen:B,IconPlus:W},props:{icon:{type:String,default:"box"},width:{type:[Number,String],default:18},height:{type:[Number,String],default:18},iconColor:{type:String,default:"currentColor"}}},Y=J,G=(0,h.Z)(Y,u,c,!1,null,null,null),K=G.exports,Q=function(){var t=this,e=t._self._c;return e(t.link?"router-link":"button",{tag:"button",staticClass:"button",class:`button--${t.view} button--${t.size}`,attrs:{to:t.link,disabled:t.disabled},on:{click:function(e){return t.$emit("click")}}},[t.icon?e("base-icon",{staticClass:"button__icon",style:{marginRight:t.isNotEmptySlot?"4px":"0"},attrs:{icon:t.icon}}):t._e(),t._t("default")],2)},X=[],tt={name:"AppButton",components:{BaseIcon:K},props:{view:{type:String,default:"green"},size:{type:String,default:"small"},icon:{type:String,required:!1},link:{type:Object,required:!1},disabled:{type:Boolean,default:!1}},computed:{isNotEmptySlot(){return"default"in this.$slots}}},et=tt,at=(0,h.Z)(et,Q,X,!1,null,null,null),rt=at.exports,st={name:"AppHeader",components:{AppButton:rt,BaseIcon:K},computed:{...(0,o.Se)(["currentUser","isLoggedIn"])},methods:{toggleMenu(){this.$refs.navList.classList.toggle("header__nav-list--active"),this.$refs.burger.$el.classList.toggle("header__burger--active"),document.body.classList.toggle("no-scroll")},hideMenu(){this.$refs.navList.classList.remove("header__nav-list--active"),this.$refs.burger.$el.classList.remove("header__burger--active"),document.body.classList.remove("no-scroll")}}},it=st,nt=(0,h.Z)(it,n,l,!1,null,null,null),lt=nt.exports,ot={components:{AppHeader:lt},mounted(){this.$store.dispatch("getCurrentUser")}},ut=ot,ct=(0,h.Z)(ut,s,i,!1,null,null,null),pt=ct.exports,dt=a(2631),gt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"register"},[e("div",{staticClass:"container"},[e("h1",{staticClass:"register__title"},[t._v("Sign up")]),e("router-link",{staticClass:"link",attrs:{to:{name:"login"}}},[t._v(" Have an account? ")]),e("div",{staticClass:"register__form-wrapper"},[t.validationErrors?e("app-validation-errors",{staticClass:"register__errors",attrs:{errors:t.validationErrors}}):t._e(),e("form",{staticClass:"register__form",on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("app-input",{attrs:{value:t.username,type:"text",placeholder:"Username"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),e("app-input",{attrs:{value:t.email,type:"email",placeholder:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),e("app-input",{attrs:{value:t.password,type:"password",placeholder:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e("app-button",{staticClass:"register__btn",attrs:{view:"green",size:"big",disabled:t.isSubmitting}},[t._v(" Sign up ")])],1)],1)],1)])},mt=[],ht=(a(7658),function(){var t=this,e=t._self._c;return e("input",{staticClass:"input",attrs:{type:t.type,placeholder:t.placeholder},domProps:{value:t.value},on:{input:t.onInput}})}),_t=[],vt={name:"AppInput",props:{type:{type:String,default:"text"},placeholder:{type:String,default:""},value:{type:String,default:""}},methods:{onInput(t){this.$emit("input",t.target.value)}}},ft=vt,Ct=(0,h.Z)(ft,ht,_t,!1,null,null,null),bt=Ct.exports,yt=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"errors"},t._l(t.errorMessages,(function(a){return e("li",{key:a,staticClass:"errors__item"},[t._v(" "+t._s(a)+" ")])})),0)},At=[],wt={name:"AppValidationErrors",props:{errors:{type:Object,required:!0}},computed:{errorMessages(){return Object.keys(this.errors).map((t=>{const e=this.errors[t].join(", ");return`${t} ${e}`}))}}},St=wt,kt=(0,h.Z)(St,yt,At,!1,null,null,null),Lt=kt.exports,Ut={name:"AppRegister",components:{AppValidationErrors:Lt,AppButton:rt,AppInput:bt},data(){return{username:"",email:"",password:""}},computed:{...(0,o.rn)({isSubmitting:t=>t.auth.isSubmitting,validationErrors:t=>t.auth.validationErrors})},methods:{async onSubmit(){const t=await this.$store.dispatch("register",{username:this.username,email:this.email,password:this.password});t&&await this.$router.push({name:"globalFeed"})}},destroyed(){this.$store.commit("clearValidationErrors")}},$t=Ut,xt=(0,h.Z)($t,gt,mt,!1,null,"4648c0a2",null),Ft=xt.exports,Pt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login"},[e("div",{staticClass:"container"},[e("h1",{staticClass:"login__title"},[t._v("Sign in")]),e("router-link",{staticClass:"link",attrs:{to:{name:"register"}}},[t._v(" Need an account? ")]),e("div",{staticClass:"login__form-wrapper"},[t.validationErrors?e("app-validation-errors",{staticClass:"login__errors",attrs:{errors:t.validationErrors}}):t._e(),e("form",{staticClass:"login__form",on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("app-input",{attrs:{value:t.email,type:"email",placeholder:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),e("app-input",{attrs:{value:t.password,type:"password",placeholder:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e("app-button",{staticClass:"login__btn",attrs:{view:"green",size:"big",disabled:t.isSubmitting}},[t._v(" Sign up ")])],1)],1)],1)])},Zt=[],Tt={name:"AppLogin",components:{AppValidationErrors:Lt,AppButton:rt,AppInput:bt},data(){return{email:"",password:""}},computed:{...(0,o.rn)({isSubmitting:t=>t.auth.isSubmitting,validationErrors:t=>t.auth.validationErrors})},methods:{async onSubmit(){const t=await this.$store.dispatch("login",{email:this.email,password:this.password});t&&await this.$router.push({name:"globalFeed"})}},destroyed(){this.$store.commit("clearValidationErrors")}},It=Tt,Et=(0,h.Z)(It,Pt,Zt,!1,null,"31bbf993",null),qt=Et.exports,Vt=function(){var t=this,e=t._self._c;return e("section",{staticClass:"global-feed"},[e("app-banner",{staticClass:"global-feed__banner",attrs:{title:"Medium Clone",text:"A place to share your knowledge."}}),e("div",{staticClass:"container global-feed__container"},[e("app-popular-tags",{staticClass:"global-feed__tags"}),e("div",{staticClass:"global-feed__wrapper"},[e("app-feed-toggler",{attrs:{tagName:t.tagName}}),e("app-feed",{staticClass:"global-feed__feed",attrs:{apiUrl:t.apiUrl}})],1)],1)],1)},Mt=[],Ot=function(){var t=this,e=t._self._c;return e("div",{staticClass:"feed"},[t.isLoading?e("app-article-preview-skeleton"):t._e(),!t.isLoading&&t.feed.articles.length?[t._l(t.feed.articles,(function(t,a){return e("app-article-preview",{key:a,attrs:{article:t}})})),e("app-pagination",{attrs:{total:t.feed.articlesCount,limit:t.limit,currentPage:t.currentPage,url:t.baseUrl}})]:e("div",{staticClass:"feed__empty"},[t._v(" There are no articles here :( ")])],2)},Ht=[];const Bt=10;var Dt=function(){var t=this,e=t._self._c;return e("article",{staticClass:"article-preview"},[e("div",{staticClass:"article-preview__head"},[e("app-author",{attrs:{authorData:t.authorData}}),e("app-add-to-favorite",{attrs:{isFavorite:t.article.favorited,slug:t.article.slug,count:t.article.favoritesCount}})],1),e("router-link",{staticClass:"article-preview__middle",attrs:{to:{name:"article",params:{slug:t.article.slug}}}},[e("h2",{staticClass:"article-preview__title"},[t._v(t._s(t.article.title))]),e("p",{staticClass:"article-preview__description"},[t._v(t._s(t.article.description))])]),e("div",{staticClass:"article-preview__footer"},[e("router-link",{staticClass:"article-preview__link",attrs:{to:{name:"article",params:{slug:t.article.slug}}}},[t._v(" Read more... ")]),e("app-tag-list",{staticClass:"article-preview__tag-list",attrs:{iterator:t.article.tagList,viewTags:"ghost"}})],1)],1)},jt=[],Nt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"author"},[e("img",{staticClass:"author__image",attrs:{src:t.authorData.image,alt:"avatar"}}),e("div",{staticClass:"author__info"},[e("router-link",{staticClass:"author__username link",attrs:{to:{name:"userProfile",params:{slug:t.authorData.username}}}},[t._v(" "+t._s(t.authorData.username)+" ")]),e("time",{staticClass:"author__created",attrs:{datetime:t.authorData.date}},[t._v(" "+t._s(t.formatDate)+" ")])],1)])},zt=[],Rt={name:"AppAuthor",props:{authorData:{type:Object,required:!0}},computed:{formatDate(){const t=new Date(this.authorData.date);return t.toLocaleString("en-us",{month:"long",day:"numeric",year:"numeric"})}}},Wt=Rt,Jt=(0,h.Z)(Wt,Nt,zt,!1,null,null,null),Yt=Jt.exports,Gt=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"tag-list"},t._l(t.iterator,(function(a){return e("li",{key:a,staticClass:"tag-list__item"},[e("app-tag",{attrs:{view:t.viewTags,link:t.link?{...t.link,params:{slug:a}}:null}},[t._v(" "+t._s(a)+" ")])],1)})),0)},Kt=[],Qt=function(){var t=this,e=t._self._c;return e(t.link?"router-link":"div",{tag:"div",staticClass:"tag",class:`tag--${t.view}`,attrs:{to:t.link?t.link:""}},[t._t("default")],2)},Xt=[],te={name:"AppTag",props:{view:{type:String,required:!1,default:"fill"},link:{type:Object,required:!1,default:null}}},ee=te,ae=(0,h.Z)(ee,Qt,Xt,!1,null,null,null),re=ae.exports,se={name:"AppTagList",components:{AppTag:re},props:{iterator:{type:Array,required:!0},viewTags:{type:String,required:!1},link:{type:Object,required:!1,default:null}}},ie=se,ne=(0,h.Z)(ie,Gt,Kt,!1,null,null,null),le=ne.exports,oe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"favorite",class:{"favorite--active":t.isFavoriteOptimistic},on:{click:t.onClick}},[e("base-icon",{staticClass:"favorite__icon",attrs:{icon:"heart"}}),t._v(" "+t._s(t.countOptimistic)+" ")],1)},ue=[],ce={name:"AppAddToFavorite",components:{BaseIcon:K},props:{isFavorite:{type:Boolean,required:!0},slug:{type:String,required:!0},count:{type:[String,Number],required:!0}},data(){return{isFavoriteOptimistic:this.isFavorite,countOptimistic:this.count}},computed:{...(0,o.Se)(["isLoggedIn"])},methods:{onClick(){this.isLoggedIn?this.isFavoriteOptimistic?(this.$store.dispatch("removeFromFavorite",{slug:this.slug}),this.countOptimistic-=1,this.isFavoriteOptimistic=!1):(this.$store.dispatch("addToFavorite",{slug:this.slug}),this.countOptimistic+=1,this.isFavoriteOptimistic=!0):this.$router.push({name:"login"})}}},pe=ce,de=(0,h.Z)(pe,oe,ue,!1,null,null,null),ge=de.exports,me={name:"AppArticlePreview",components:{AppAddToFavorite:ge,AppTagList:le,AppAuthor:Yt},props:{article:{type:Object,required:!0}},computed:{authorData(){return{image:this.article.author.image,username:this.article.author.username,date:this.article.createdAt}}}},he=me,_e=(0,h.Z)(he,Dt,jt,!1,null,null,null),ve=_e.exports,fe=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"pagination"},t._l(t.pages,(function(a){return e("li",{key:a,staticClass:"pagination__item"},[e("router-link",{staticClass:"pagination__link",class:{active:t.currentPage===a},attrs:{to:{path:t.url,query:{page:a}}}},[t._v(" "+t._s(a)+" ")])],1)})),0)},Ce=[];const be=(t,e)=>[...Array(e).keys()].map((e=>e+t));var ye={name:"AppPagination",props:{total:{type:Number,required:!0},limit:{type:Number,required:!0},currentPage:{type:Number,required:!0},url:{type:String,required:!0}},computed:{pages(){const t=Math.ceil(this.total/this.limit);return be(1,t)}}},Ae=ye,we=(0,h.Z)(Ae,fe,Ce,!1,null,null,null),Se=we.exports,ke=function(){var t=this,e=t._self._c;return e("div",{staticClass:"article-preview-skeleton"},t._l(8,(function(a){return e("div",{key:a,staticClass:"article-preview-skeleton__card"},[t._m(0,!0),t._m(1,!0),t._m(2,!0)])})),0)},Le=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"article-preview-skeleton__head"},[e("div",{staticClass:"article-preview-skeleton__author"},[e("div",{staticClass:"article-preview-skeleton__avatar"}),e("div",{staticClass:"article-preview-skeleton__info"})]),e("div",{staticClass:"article-preview-skeleton__favorite"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"article-preview-skeleton__middle"},[e("div",{staticClass:"article-preview-skeleton__title"}),e("div",{staticClass:"article-preview-skeleton__text"}),e("div",{staticClass:"article-preview-skeleton__text"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"article-preview-skeleton__footer"},[e("div",{staticClass:"article-preview-skeleton__read"}),e("div",{staticClass:"article-preview-skeleton__tags"},[e("div",{staticClass:"article-preview-skeleton__tag"}),e("div",{staticClass:"article-preview-skeleton__tag"}),e("div",{staticClass:"article-preview-skeleton__tag"})])])}],Ue={name:"AppArticlePreviewSkeleton"},$e=Ue,xe=(0,h.Z)($e,ke,Le,!1,null,null,null),Fe=xe.exports,Pe={name:"AppFeed",components:{AppArticlePreviewSkeleton:Fe,AppArticlePreview:ve,AppPagination:Se},props:{apiUrl:{type:String,required:!0}},data(){return{limit:Bt}},computed:{...(0,o.rn)({isLoading:t=>t.feed.isLoading,feed:t=>t.feed.data,error:t=>t.feed.error}),currentPage(){return+this.$route.query.page||1},baseUrl(){return this.$route.path},queryOffset(){return this.currentPage*Bt-Bt}},watch:{currentPage(){this.fetchFeed()},apiUrl(){this.fetchFeed()}},methods:{fetchFeed(){const t=this.apiUrl.includes("?")?"&":"?";this.$store.dispatch("getFeed",{apiUrl:`${this.apiUrl}${t}limit=${Bt}&offset=${this.queryOffset}`})}},mounted(){this.fetchFeed()}},Ze=Pe,Te=(0,h.Z)(Ze,Ot,Ht,!1,null,null,null),Ie=Te.exports,Ee=function(){var t=this,e=t._self._c;return e("div",{staticClass:"banner"},[e("h1",{staticClass:"banner__title"},[t._v(t._s(t.title))]),e("p",{staticClass:"banner__text"},[t._v(t._s(t.text))])])},qe=[],Ve={name:"AppBanner",props:{title:{type:String,required:!0},text:{type:String,required:!0}},computed:{...(0,o.Se)(["isLoggedIn"])}},Me=Ve,Oe=(0,h.Z)(Me,Ee,qe,!1,null,null,null),He=Oe.exports,Be=function(){var t=this,e=t._self._c;return e("div",{staticClass:"popular-tags"},[e("h3",{staticClass:"popular-tags__title"},[t._v("Popular Tags")]),t.isLoading?e("app-tag-skeleton"):e("app-tag-list",{staticClass:"popular-tags__list",attrs:{iterator:t.popularTags,viewTags:"fill",link:{name:"tag"}}})],1)},De=[],je=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tag-skeleton"},t._l(t.tags,(function(t){return e("div",{key:t,staticClass:"tag-skeleton__item",style:{width:`${t}px`}})})),0)},Ne=[],ze={name:"AppTagSkeleton",data(){return{tags:[40,20,50,35,60,20,70,20,35,40,65,30,60,30,30]}}},Re=ze,We=(0,h.Z)(Re,je,Ne,!1,null,null,null),Je=We.exports,Ye={name:"AppPopularTags",components:{AppTagList:le,AppTagSkeleton:Je},computed:{...(0,o.rn)({popularTags:t=>t.popularTags.data,isLoading:t=>t.popularTags.isLoading,error:t=>t.popularTags.error})},mounted(){this.$store.dispatch("getPopularTags")}},Ge=Ye,Ke=(0,h.Z)(Ge,Be,De,!1,null,null,null),Qe=Ke.exports,Xe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"feed-toggle"},[e("ul",{staticClass:"feed-toggle__list"},[t.profile?[e("li",{staticClass:"feed-toggle__item"},[e("router-link",{staticClass:"feed-toggle__link",attrs:{to:{name:"userProfile",params:{slug:t.$route.params.slug}},exact:"","active-class":"feed-toggle__link--active"}},[t._v(" My Articles ")])],1),e("li",{staticClass:"feed-toggle__item"},[e("router-link",{staticClass:"feed-toggle__link",attrs:{to:{name:"userProfileFavorites",params:{slug:t.$route.params.slug}},exact:"","active-class":"feed-toggle__link--active"}},[t._v(" Favorited Articles ")])],1)]:[e("li",{staticClass:"feed-toggle__item"},[t.isLoggedIn?e("router-link",{staticClass:"feed-toggle__link",attrs:{to:{name:"yourFeed"},exact:"","active-class":"feed-toggle__link--active"}},[t._v(" Your Feed ")]):t._e()],1),e("li",{staticClass:"feed-toggle__item"},[e("router-link",{staticClass:"feed-toggle__link",attrs:{to:{name:"globalFeed"},exact:"","active-class":"feed-toggle__link--active"}},[t._v(" Global Feed ")])],1),e("li",{staticClass:"feed-toggle__item"},[t.tagName?e("router-link",{staticClass:"feed-toggle__link",attrs:{to:{name:"tag"},exact:"","active-class":"feed-toggle__link--active"}},[e("span",[t._v("# "+t._s(t.tagName))])]):t._e()],1)]],2)])},ta=[],ea={name:"AppFeedToggler",props:{tagName:{type:String,required:!1,default:""},profile:{type:Boolean,required:!1,default:!1}},computed:{...(0,o.Se)(["isLoggedIn"])}},aa=ea,ra=(0,h.Z)(aa,Xe,ta,!1,null,null,null),sa=ra.exports,ia={name:"AppMainFeed",components:{AppFeedToggler:sa,AppPopularTags:Qe,AppBanner:He,AppFeed:Ie},computed:{tagName(){return this.$route.params.slug},apiUrl(){let t=this.$route.name;switch(t){case"globalFeed":return"/articles";case"yourFeed":return"/articles/feed";case"tag":return`/articles?tag=${this.tagName}`;default:return"/articles"}}}},na=ia,la=(0,h.Z)(na,Vt,Mt,!1,null,null,null),oa=la.exports,ua=function(){var t=this,e=t._self._c;return t.article?e("section",{staticClass:"article"},[e("app-banner-article",{staticClass:"article__banner",attrs:{title:t.article.title,isAuthor:t.isAuthor,authorData:t.authorData},on:{delete:t.deleteArticle}}),e("div",{staticClass:"container"},[e("div",{staticClass:"article__text"},[t._v(t._s(t.article.body))]),e("app-tag-list",{staticClass:"article__tag-list",attrs:{iterator:t.article.tagList,viewTags:"ghost"}}),e("app-author-with-actions",{staticClass:"article__action",attrs:{isAuthor:t.isAuthor,authorData:t.authorData},on:{delete:t.deleteArticle}})],1)],1):t._e()},ca=[],pa=function(){var t=this,e=t._self._c;return e("div",{staticClass:"banner-article"},[e("div",{staticClass:"container"},[e("h1",{staticClass:"banner-article__title"},[t._v(" "+t._s(t.title)+" ")]),e("app-author-with-actions",{attrs:{isAuthor:t.isAuthor,authorData:t.authorData},on:{delete:function(e){return t.$emit("delete")}}})],1)])},da=[],ga=function(){var t=this,e=t._self._c;return e("div",{staticClass:"action"},[e("app-author",{staticClass:"action__author",attrs:{authorData:t.authorData}}),e("div",{staticClass:"action__buttons"},[t.isAuthor?[e("app-button",{attrs:{icon:"pen",view:"ghost-grey",link:{name:"editArticle",params:{slug:t.$route.params.slug}}}},[t._v(" Edit Article ")]),e("app-button",{attrs:{icon:"trash",view:"ghost-red"},on:{click:function(e){return t.$emit("delete")}}},[t._v(" Delete Articles ")])]:[e("app-button",{attrs:{view:"ghost-grey"}},[t._v(" Follow "+t._s(t.authorData.username)+" ")]),e("app-button",{attrs:{view:"ghost-green"}},[t._v(" Favorite Articles ")])]],2)],1)},ma=[],ha={name:"AppAuthorWithActions",components:{AppButton:rt,AppAuthor:Yt},props:{isAuthor:{type:Boolean,required:!0},authorData:{type:Object,required:!0}}},_a=ha,va=(0,h.Z)(_a,ga,ma,!1,null,null,null),fa=va.exports,Ca={name:"AppBannerArticle",components:{AppAuthorWithActions:fa},props:{title:{type:String,required:!0},isAuthor:{type:Boolean,required:!0},authorData:{type:Object,required:!0}},computed:{}},ba=Ca,ya=(0,h.Z)(ba,pa,da,!1,null,null,null),Aa=ya.exports,wa={name:"AppArticle",components:{AppTagList:le,AppAuthorWithActions:fa,AppBannerArticle:Aa},computed:{...(0,o.rn)({article:t=>t.article.data,isLoading:t=>t.article.isLoading,error:t=>t.article.error}),...(0,o.Se)(["currentUser"]),isAuthor(){return!(!this.article||!this.currentUser)&&this.article.author.username===this.currentUser.username},authorData(){return{image:this.article.author.image,username:this.article.author.username,date:this.article.createdAt}},slug(){return this.$route.params.slug}},methods:{async deleteArticle(){await this.$store.dispatch("deleteArticle",{slug:this.slug}),await this.$router.push({name:"globalFeed"})}},mounted(){this.$store.dispatch("getArticle",{slug:this.slug})}},Sa=wa,ka=(0,h.Z)(Sa,ua,ca,!1,null,null,null),La=ka.exports,Ua=function(){var t=this,e=t._self._c;return e("app-article-form",{attrs:{initialValues:t.initialValues,errors:t.validationErrors,isSubmitting:t.isSubmitting},on:{articleSubmit:t.onSubmit}})},$a=[],xa=function(){var t=this,e=t._self._c;return e("div",{staticClass:"article-form"},[e("div",{staticClass:"container article-form__container"},[t.errors?e("app-validation-errors",{attrs:{errors:t.errors}}):t._e(),e("form",{staticClass:"article-form__form",on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("app-input",{attrs:{value:t.title,type:"text",placeholder:"Article title"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),e("app-input",{attrs:{value:t.description,type:"text",placeholder:"What's this article about?"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),e("app-text-area",{attrs:{value:t.body,placeholder:"What is this article about?",rows:"8"},model:{value:t.body,callback:function(e){t.body=e},expression:"body"}}),e("app-input",{attrs:{value:t.tagList,type:"text",placeholder:"Enter tags"},model:{value:t.tagList,callback:function(e){t.tagList=e},expression:"tagList"}}),e("app-button",{staticClass:"article-form__button",attrs:{view:"green",size:"big",disabled:t.isSubmitting}},[t._v(" Publish Article ")])],1)],1)])},Fa=[],Pa=function(){var t=this,e=t._self._c;return e("textarea",{staticClass:"text-area",attrs:{placeholder:t.placeholder,rows:t.rows},domProps:{value:t.value},on:{input:t.onInput}})},Za=[],Ta={name:"AppTextArea",props:{value:{type:String,default:""},placeholder:{type:String,default:""},rows:{type:String,default:"2"}},methods:{onInput(t){this.$emit("input",t.target.value)}}},Ia=Ta,Ea=(0,h.Z)(Ia,Pa,Za,!1,null,null,null),qa=Ea.exports,Va={name:"AppArticleForm",components:{AppButton:rt,AppTextArea:qa,AppInput:bt,AppValidationErrors:Lt},props:{initialValues:{type:Object,required:!0},errors:{type:Object,required:!1},isSubmitting:{type:Boolean,required:!0}},data(){return{title:this.initialValues.title,description:this.initialValues.description,body:this.initialValues.body,tagList:this.initialValues.tagList.join(" ")}},methods:{onSubmit(){const t={title:this.title,description:this.description,body:this.body,tagList:this.tagList.split(" ")};this.$emit("articleSubmit",t)}}},Ma=Va,Oa=(0,h.Z)(Ma,xa,Fa,!1,null,null,null),Ha=Oa.exports,Ba={name:"AppCreateArticle",components:{AppArticleForm:Ha},data(){return{initialValues:{title:"",description:"",body:"",tagList:[]}}},computed:{...(0,o.rn)({isSubmitting:t=>t.article.isSubmitting,validationErrors:t=>t.article.validationErrors})},methods:{async onSubmit(t){const e=await this.$store.dispatch("createArticle",{articleInput:t});await this.$router.push({name:"article",params:{slug:e.slug}})}}},Da=Ba,ja=(0,h.Z)(Da,Ua,$a,!1,null,"495e486b",null),Na=ja.exports,za=function(){var t=this,e=t._self._c;return e("app-article-form",{attrs:{initialValues:t.initialValues,errors:t.validationErrors,isSubmitting:t.isSubmitting},on:{articleSubmit:t.onSubmit}})},Ra=[],Wa={name:"AppEditArticle",components:{AppArticleForm:Ha},computed:{...(0,o.rn)({article:t=>t.article.data,isLoading:t=>t.article.isLoading,isSubmitting:t=>t.article.isSubmitting,validationErrors:t=>t.article.validationErrors}),initialValues(){return this.article?{title:this.article.title,description:this.article.description,body:this.article.body,tagList:this.article.tagList}:{title:"",description:"",body:"",tagList:[]}}},methods:{async onSubmit(t){const e=await this.$store.dispatch("updateArticle",{slug:this.$route.params.slug,articleInput:t});await this.$router.push({name:"article",params:{slug:e.slug}})}}},Ja=Wa,Ya=(0,h.Z)(Ja,za,Ra,!1,null,null,null),Ga=Ya.exports,Ka=function(){var t=this,e=t._self._c;return t.currentUser?e("section",{staticClass:"settings"},[e("div",{staticClass:"container settings__container"},[e("h1",{staticClass:"settings__title"},[t._v("Your Settings")]),e("app-update-user-form",{staticClass:"settings__form",attrs:{currentUser:t.currentUser,disabled:t.isSubmitting},on:{submit:t.onSubmit}}),e("app-button",{staticClass:"settings__button",attrs:{view:"red",size:"big"},on:{click:t.onLogout}},[t._v(" Logout ")])],1)]):t._e()},Qa=[],Xa=function(){var t=this,e=t._self._c;return e("form",{staticClass:"update-user",on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("app-input",{attrs:{value:t.form.image,type:"text",placeholder:"URL of profile picture"},model:{value:t.form.image,callback:function(e){t.$set(t.form,"image",e)},expression:"form.image"}}),e("app-input",{attrs:{value:t.form.username,type:"text",placeholder:"Username"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}}),e("app-text-area",{attrs:{value:t.form.bio,rows:"8",placeholder:"Short bio about you"},model:{value:t.form.bio,callback:function(e){t.$set(t.form,"bio",e)},expression:"form.bio"}}),e("app-input",{attrs:{value:t.form.email,type:"Email",placeholder:"Email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),e("app-input",{attrs:{value:t.form.password,type:"password",placeholder:"New password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),e("app-button",{staticClass:"update-user__button",attrs:{view:"green",size:"big",disabled:t.disabled}},[t._v(" Update settings ")])],1)},tr=[],er={name:"AppUpdateUserForm",components:{AppButton:rt,AppTextArea:qa,AppInput:bt},props:{currentUser:{type:Object,required:!0},disabled:{type:Boolean,required:!0}},computed:{form(){return{image:this.currentUser.image,username:this.currentUser.username,bio:this.currentUser.bio,email:this.currentUser.email,password:""}}},methods:{onSubmit(){this.$emit("submit",this.form)}}},ar=er,rr=(0,h.Z)(ar,Xa,tr,!1,null,null,null),sr=rr.exports,ir={name:"AppSettings",components:{AppButton:rt,AppUpdateUserForm:sr},computed:{...(0,o.rn)({isSubmitting:t=>t.auth.isSubmitting,validationErrors:t=>t.auth.validationErrors,currentUser:t=>t.auth.currentUser})},methods:{onSubmit(t){this.$store.dispatch("updateCurrentUser",{currentUserInput:t})},async onLogout(){await this.$store.dispatch("logout"),await this.$router.push({name:"globalFeed"})}}},nr=ir,lr=(0,h.Z)(nr,Ka,Qa,!1,null,null,null),or=lr.exports,ur=function(){var t=this,e=t._self._c;return t.profile?e("div",{staticClass:"user-profile"},[e("app-banner-profile",{staticClass:"user-profile__banner",attrs:{isCurrentUser:t.isCurrentUser,profile:t.profile}}),e("div",{staticClass:"container"},[e("app-feed-toggler",{attrs:{profile:""}}),e("app-feed",{attrs:{apiUrl:t.apiUrl}})],1)],1):t._e()},cr=[],pr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"banner-profile"},[e("div",{staticClass:"container banner-profile__container"},[e("img",{staticClass:"banner-profile__image",attrs:{src:t.profile.image,alt:"avatar"}}),e("div",{staticClass:"banner-profile__username"},[t._v(t._s(t.profile.username))]),e("p",{staticClass:"banner-profile__bio"},[t._v(t._s(t.profile.bio))]),t.isCurrentUser?e("app-button",{staticClass:"banner-profile__button",attrs:{view:"ghost-grey",icon:"settings",link:{name:"settings"}}},[t._v(" Edit Profile Settings ")]):e("app-button",{staticClass:"banner-profile__button",attrs:{view:"ghost-grey",icon:"plus"}},[t._v(" Follow "+t._s(t.profile.username)+" ")])],1)])},dr=[],gr={name:"AppBannerProfile",components:{AppButton:rt},props:{profile:{type:Object,required:!0},isCurrentUser:{type:Boolean,required:!0}}},mr=gr,hr=(0,h.Z)(mr,pr,dr,!1,null,null,null),_r=hr.exports,vr={name:"AppUserProfile",components:{AppFeed:Ie,AppFeedToggler:sa,AppBannerProfile:_r},computed:{...(0,o.rn)({profile:t=>t.profile.data,isLoading:t=>t.profile.isLoading,error:t=>t.profile.error}),...(0,o.Se)(["currentUser"]),isCurrentUser(){return this.currentUser?.username===this.profile?.username},apiUrl(){const t=this.$route.path.includes("favorites");return t?`/articles?favorited=${this.userSlug}`:`/articles?author=${this.userSlug}`},userSlug(){return this.$route.params.slug}},watch:{userSlug(){this.fetchUserProfile()}},methods:{fetchUserProfile(){this.$store.dispatch("getUserProfile",{slug:this.userSlug})}},mounted(){this.fetchUserProfile()}},fr=vr,Cr=(0,h.Z)(fr,ur,cr,!1,null,null,null),br=Cr.exports;r.ZP.use(dt.ZP);const yr=[{path:"/register",name:"register",component:Ft},{path:"/login",name:"login",component:qt},{path:"/",name:"globalFeed",component:oa},{path:"/feed",name:"yourFeed",component:oa},{path:"/tags/:slug",name:"tag",component:oa},{path:"/articles/new",name:"createArticle",component:Na},{path:"/articles/:slug",name:"article",component:La},{path:"/articles/:slug/edit",name:"editArticle",component:Ga},{path:"/settings",name:"settings",component:or},{path:"/profiles/:slug",name:"userProfile",component:br},{path:"/profiles/:slug/favorites",name:"userProfileFavorites",component:br}],Ar=new dt.ZP({routes:yr});var wr=Ar,Sr=a(4161);const kr=t=>{try{return JSON.parse(localStorage.getItem(t))}catch(e){return console.log(`Ошибка получения данных из localStorage ${e.message}`),null}},Lr=(t,e)=>{try{localStorage.setItem(t,JSON.stringify(e))}catch(a){console.log(`Ошибка сохранения данных в localStorage ${a.message}`)}};Sr.Z.defaults.baseURL="https://api.realworld.io/api/",Sr.Z.interceptors.request.use((t=>{const e=kr("accessToken"),a=e?`Token ${e}`:"";return t.headers.Authorization=a,t}));var Ur=Sr.Z;const $r=t=>Ur.post("/users",{user:t}),xr=t=>Ur.post("/users/login",{user:t}),Fr=()=>Ur.get("/user"),Pr=async t=>{const e=await Ur.put("/user",{user:t});return e.data.user};var Zr={register:$r,login:xr,getCurrentUser:Fr,updateCurrentUser:Pr};const Tr={isSubmitting:!1,isLoading:!1,currentUser:null,validationErrors:null,isLoggedIn:null},Ir={currentUser:t=>t.currentUser,isLoggedIn:t=>Boolean(t.isLoggedIn)},Er={clearValidationErrors(t){t.validationErrors=null},registerStart(t){t.isSubmitting=!0,t.validationErrors=null},registerSuccess(t,e){t.isSubmitting=!1,t.currentUser=e,t.isLoggedIn=!0},registerFailure(t,e){t.isSubmitting=!1,t.validationErrors=e},loginStart(t){t.isSubmitting=!0,t.validationErrors=null},loginSuccess(t,e){t.isSubmitting=!1,t.currentUser=e,t.isLoggedIn=!0},loginFailure(t,e){t.isSubmitting=!1,t.validationErrors=e},logout(t){t.currentUser=null,t.isLoggedIn=!1},getCurrentUserStart(t){t.isLoading=!0},getCurrentUserSuccess(t,e){t.isLoading=!1,t.currentUser=e,t.isLoggedIn=!0},getCurrentUserFailure(t){t.isLoading=!1,t.isLoggedIn=!1,t.currentUser=null},updateCurrentUserStart(t){t.isSubmitting=!0},updateCurrentUserSuccess(t,e){t.isSubmitting=!1,t.currentUser=e},updateCurrentUserFailure(t){t.isSubmitting=!1}},qr={async register({commit:t},e){try{t("registerStart");const a=await Zr.register(e);return await Lr("accessToken",a.data.user.token),t("registerSuccess",a.data.user),a}catch(a){t("registerFailure",a.response.data.errors),console.log(`Ошибка регистрации пользователя: ${a.message}`)}},async login({commit:t},e){try{t("loginStart");const a=await Zr.login(e);return await Lr("accessToken",a.data.user.token),t("loginSuccess",a.data.user),a}catch(a){t("loginFailure",a.response.data.errors),console.log(`Ошибка авторизации пользователя: ${a.message}`)}},async logout({commit:t}){await Lr("accessToken",""),t("logout")},async getCurrentUser({commit:t}){try{t("getCurrentUserStart");const e=await Zr.getCurrentUser();return t("getCurrentUserSuccess",e.data.user),e}catch(e){t("getCurrentUserFailure"),console.log(`Ошибка получения данных пользователя: ${e.message}`)}},async updateCurrentUser({commit:t},{currentUserInput:e}){try{t("updateCurrentUserStart");const a=await Zr.updateCurrentUser(e);return t("updateCurrentUserSuccess",a),a}catch(a){t("updateCurrentUserFailure"),console.log(`Ошибка обновления данных пользователя: ${a.message}`)}}};var Vr={state:Tr,mutations:Er,actions:qr,getters:Ir};const Mr=t=>Ur.get(t);var Or={getFeed:Mr};const Hr={data:null,isLoading:!1,error:null},Br={getFeedStart(t){t.isLoading=!0,t.data=null},getFeedSuccess(t,e){t.isLoading=!1,t.data=e},getFeedFailure(t,e){t.isLoading=!1,t.error=e}},Dr={async getFeed({commit:t},{apiUrl:e}){try{t("getFeedStart");const a=await Or.getFeed(e);t("getFeedSuccess",a.data)}catch(a){t("getFeedFailure",a),console.log(`Ошибка получения данных ленты постов: ${a.message}`)}}};var jr={state:Hr,mutations:Br,actions:Dr};const Nr=async()=>{const t=await Ur.get("/tags");return t.data.tags};var zr={getPopularTags:Nr};const Rr={data:null,isLoading:!1,error:null},Wr={getPopularTagsStart(t){t.isLoading=!0,t.data=null},getPopularTagsSuccess(t,e){t.isLoading=!1,t.data=e},getPopularTagsFailure(t,e){t.isLoading=!1,t.error=e}},Jr={async getPopularTags({commit:t}){try{t("getPopularTagsStart");const e=await zr.getPopularTags();t("getPopularTagsSuccess",e)}catch(e){t("getPopularTagsFailure",e),console.log(`Ошибка получения данных популярных тегов: ${e.message}`)}}};var Yr={state:Rr,mutations:Wr,actions:Jr};const Gr=async t=>{const e=await Ur.get(`/articles/${t}`);return e.data.article},Kr=async t=>await Ur.delete(`/articles/${t}`),Qr=async t=>{const e=await Ur.post("/articles",{article:t});return e.data.article},Xr=async(t,e)=>{const a=await Ur.put(`/articles/${t}`,{article:e});return a.data.article},ts=async t=>{const e=await Ur.post(`/articles/${t}/favorite`);return e.data.article},es=async t=>{const e=await Ur.delete(`/articles/${t}/favorite`);return e.data.article};var as={getArticle:Gr,deleteArticle:Kr,createArticle:Qr,updateArticle:Xr,addToFavorite:ts,removeFromFavorite:es};const rs={data:null,isLoading:!1,error:null,isSubmitting:!1,validationErrors:null},ss={getArticleStart(t){t.isLoading=!0,t.data=null},getArticleSuccess(t,e){t.isLoading=!1,t.data=e},getArticleFailure(t,e){t.isLoading=!1,t.error=e},createArticleStart(t){t.isSubmitting=!0,t.validationErrors=null},createArticleSuccess(t){t.isSubmitting=!1,t.validationErrors=null},createArticleFailure(t,e){t.isSubmitting=!1,t.validationErrors=e},updateArticleStart(t){t.isSubmitting=!0},updateArticleSuccess(t){t.isSubmitting=!1},updateArticleFailure(t,e){t.isSubmitting=!1,t.validationErrors=e}},is={async getArticle({commit:t},{slug:e}){try{t("getArticleStart");const a=await as.getArticle(e);t("getArticleSuccess",a)}catch(a){t("getArticleFailure",a),console.log(`Ошибка получения статьи: ${a.message}`)}},async deleteArticle(t,{slug:e}){try{await as.deleteArticle(e)}catch(a){console.log(`Ошибка удаление статьи: ${a.message}`)}},async createArticle({commit:t},{articleInput:e}){try{t("createArticleStart");const a=await as.createArticle(e);return t("createArticleSuccess"),a}catch(a){t("createArticleFailure",a.response.data.errors),console.log(`Ошибка создания статьи: ${a.message}`)}},async updateArticle({commit:t},{slug:e,articleInput:a}){try{t("updateArticleStart");const r=await as.updateArticle(e,a);return t("updateArticleSuccess"),r}catch(r){t("updateArticleFailure",r.response.data.errors),console.log(`Ошибка создания статьи: ${r.message}`)}},async addToFavorite(t,{slug:e}){try{const t=await as.addToFavorite(e);return t}catch(a){console.log(`Ошибка добавления like: ${a.message}`)}},async removeFromFavorite(t,{slug:e}){try{const t=await as.removeFromFavorite(e);return t}catch(a){console.log(`Ошибка удаления like: ${a.message}`)}}};var ns={state:rs,mutations:ss,actions:is};const ls=async t=>{const e=await Ur.get(`/profiles/${t}`);return e.data.profile};var os={getUserProfile:ls};const us={data:null,isLoading:!1,error:null},cs={getUserProfileStart(t){t.isLoading=!0,t.data=null},getUserProfileSuccess(t,e){t.isLoading=!1,t.data=e},getUserProfileFailure(t,e){t.isLoading=!1,t.error=e}},ps={async getUserProfile({commit:t},{slug:e}){console.log("slug",e);try{t("getUserProfileStart");const a=await os.getUserProfile(e);t("getUserProfileSuccess",a)}catch(a){t("getUserProfileFailure",a),console.log(`Ошибка получения данных профиля: ${a.message}`)}}};var ds={state:us,mutations:cs,actions:ps};r.ZP.use(o.ZP);var gs=new o.ZP.Store({modules:{auth:Vr,feed:jr,popularTags:Yr,article:ns,profile:ds}});r.ZP.config.productionTip=!1,new r.ZP({router:wr,store:gs,render:t=>t(pt)}).$mount("#app")}},e={};function a(r){var s=e[r];if(void 0!==s)return s.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,a),i.exports}a.m=t,function(){var t=[];a.O=function(e,r,s,i){if(!r){var n=1/0;for(c=0;c<t.length;c++){r=t[c][0],s=t[c][1],i=t[c][2];for(var l=!0,o=0;o<r.length;o++)(!1&i||n>=i)&&Object.keys(a.O).every((function(t){return a.O[t](r[o])}))?r.splice(o--,1):(l=!1,i<n&&(n=i));if(l){t.splice(c--,1);var u=s();void 0!==u&&(e=u)}}return e}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[r,s,i]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,r){var s,i,n=r[0],l=r[1],o=r[2],u=0;if(n.some((function(e){return 0!==t[e]}))){for(s in l)a.o(l,s)&&(a.m[s]=l[s]);if(o)var c=o(a)}for(e&&e(r);u<n.length;u++)i=n[u],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(c)},r=self["webpackChunkmedium_clone"]=self["webpackChunkmedium_clone"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(631)}));r=a.O(r)})();
//# sourceMappingURL=app.dde3133f.js.map